---
permalink: sx_setup
---

{% include toc title="Разделы" %}

В данном руководстве мы не рассматриваем сам процесс установки чипа в приставку. Инструкции для самостоятельной установки имеются на [официальном сайте Team Xecuter](https://sx.xecuter.com/#manuals){:target="_blank"}, так же в интернете можно найти множество видео, показывающих весь процесс.
{: .notice--info}

## Установка SXOS 

### Что понадобится 

* Свежая версия {% include abbr/kefir_addr.txt %}
* Карта памяти на 64Гб или более 
* Кабель USB type-A на USB type-C для подключения приставки к ПК 

### Установка kefir на карту памяти 

1. Вставьте карту памяти в ПК и отформатируйте её в FAT32 с помощью [rufus](https://rufus.ie/){:target="_blank"}

	![](/images/screens/rufus.png)
	{: .text-center}
	{: .notice--info}

1. Скачайте `sxchip.zip` из [репозитория кефира](https://github.com/rashevskyv/switch/releases/latest){:target="_blank"} и распакуйте архив в корень вашей карты памяти

	![](/images/screens/sx_folder.png)
	{: .text-center}
	{: .notice--info}

1. Вставьте карту памяти в приставку и включите её 

### Обновление системного ПО на приставке 

При первом включении, а так же при любом включении с зажатой кнопкой увеличения громкости, или включении приставки без активации лицензии, вы попадёте в загрузчик SXOS.
{: .notice--info}

1.  Загрузившись в меню SX OS, выберите "**Boot original FW**", чтобы загрузиться в официальную прошивку Nintendo Switch 
1. Перейдите в "**Системные настройки**" -> "**Система**" и нажмите "**Обновление системы**" (интернет должен быть включен и должен работать)
1. После обновления системы приставка перезагрузится. Снова выберите "**Boot original FW**" в меню SX OS
1. Загрузившись в систему, зайдите в eshop каждым из имеющихся аккаунтов, если аккаунты не привязаны к приставке, привяжите их
1. Перезагрузите приставку, чтобы снова попасть в меню SX OS

### Установка EmuNAND

При первом включении, а так же при любом включении с зажатой кнопкой увеличения громкости, или включении приставки без активации лицензии, вы попадёте в загрузчик SXOS. 
{: .notice--info}

1. Выберите "**Options**"

	![](/images/screens/sx_options.png)
	{: .text-center}
	{: .notice--info}

1. Выберите "**EmuNAND**" -> "**Create EmuNAND**" -> **Files on microSD**** -> "**Continue**"
1. Подключите консоль к зарядке и дождитесь окончания создания EmuNAND
1. Если EmuNAND создан успешно, то на экране все пункты будут подсвечены зелёным. Иначе, пробуйте делать EmuNAND заново или с другой картой 

	![](/images/screens/sx_emu_success.png)
	{: .text-center}
	{: .notice--info}

	Созданный EmuNAND будет занимать на карте памяти примерно 30Гб. 
	{: .notice--warning}

1. Нажмите "**Back**", чтобы вернуться в главное меню опций SX OS

## Активация SX OS

1. Нажмите "**Boot Custom FW**" -> "**Continue**" -> "**Continue**"
	* Во время загрузки приставки, на карте памяти будет создан уникальный для каждой консоли файл активации `license-request.dat`
1. Выключите консоль и вставьте карту памяти приставки в ПК 
1. Перейдите на [страницу активации](https://sx.xecuter.com/sxos-license.html){:target="_blank"} и нажмите кнопку "**Browse**"
1. Выберите `license-request.dat`, который находится в корне вашей карты памяти 
1. Нажмите кнопку "**Retrieve License**", чтобы сгенерировать файл лицензии. Сохраните полученный файл `license.dat` в корне вашей карты памяти 
1. Удалите `license-request.dat` из корня вашей карты памяти 
1. Вставьте карту памяти обратно в консоль

## Создание резервной копии данных приставки

1. Включите приставку 
	* Так как мы уже активировали лицензию и создали EmuNAND, приставка должна сразу загрузиться в него с активированной SX OS. Проверить это очень просто - перейдите в Альбомы, перейдите на вкладку "**LICENSE**", если там написано "**LICENSE VALID**", то активация прошла успешно. Если вы находитесь в EmuNAND, то в верхнем правом углу, под номером версии системы будет соответствующая пометка.

		![](/images/screens/sx_valid.png)
		{: .text-center}
		{: .notice--info}

1. Запустите Альбомы и перейдите во вкладку "**HOMEBREW**" 
1. Запустите "**Lockpick**", затем нажмите (+), чтобы выйти из программы 
1. Выключите приставку и вставьте карту памяти консоли в ПК
1. Скопируйте файл `switch/prod.keys` в папку `sxos/emunand`
1. Скопируйте файл `license.dat` в папку `sxos/emunand`
1. Скопируйте на ПК папку `sxos/emunand`. Содержимое этой папки и есть ваш бекап. Не потеряйте его! 

## Работа с EmuNAND в программе NxNandManager (опционально, только Windows)
{% spoiler Раскрыть %}

Прежде чем приступить к этому разделу, обязательно скопируйте папку `sxos/emunand` на ПК, если ещё не делали этого. В программе же выбирайте те файлы, что находятся у вас на карте памяти. Если после проделанных манипуляций что-то перестанет работать, вы всегда сможете просто вернуть обратно те файлы, что вы скопировали на ПК и получить работоспособный EmuNAND.
{: .notice--warning}

1. Выключите Switch и вставьте его карту памяти в ПК
1. Скачайте и распакуйте на ваш ПК программу [NxNandManager](https://github.com/eliboa/NxNandManager/releases/latest){:target="_blank"}
1. Запустите программу [NxNandManager](https://github.com/eliboa/NxNandManager/releases/latest){:target="_blank"}
1. Перейдите в **File** -> **Open File** и выберите файл `sxos/emunand/full.00.bin`
1. Перейдите в **Options** -> **Configure keyset**, нажмите **Import keys from file** и выберите файл `switch/prod.keys`
1. Нажмите Save 
	* Если в поле **Device ID** написано **BAD CRYPTO**, то вы выбрали ключи не от своей приставки! Сделайте дамп ключей заново!

### Установка Incognito 

Установив Incognito, вы уберёте личную информацию, необходимую для авторизации консоли на серверах Nintendo, из памяти вашей приставки, тем самым вы сможете выходить на консоли в интернет наверняка зная, что это не приведёт к бану.
{: .notice--info}

1. Перейдите в **Options** -> **Resize NAND (RAWNAND, FULLNAND)**
1. Нажмите **Yes**, нажмите **OK**
1. Вставьте карту памяти обратно в приставку и включите Switch
1. Перейдите в "**Системные настройки**" -> "**Система**" -> "**Серийные номера**". Если в поле "**Консоль**" не указан серийный номер, то всё сделано верно
1. Выключите Switch, вставьте карту памяти обратно в ПК 
1. В программе [NxNandManager](https://github.com/eliboa/NxNandManager/releases/latest){:target="_blank"} перейдите в **File** -> **Open File** и выберите файл `sxos/emunand/full.00.bin`

### Уменьшение размера EmuNAND 

1. Перейдите в **Options** -> **Resize NAND (RAWNAND, FULLNAND)**
	* Если вам не нужны сохранения в EmuNAND, поставьте галочку напротив **Format USER (all data in partition will be lost)**
1. В поле **New size for USER** укажите тот размер в мегабайтах, который будет доступен в качестве внутренней памяти консоли после уменьшения размера EmuNAND. Рекомендую указывать не менее 7548 Mb
		* Если на разделе много пользовательских данных, например, сейвов, то вы не сможете уменьшить EmuNAND меньше занятого объема. В таком случае нужно либо форматировать USER, либо уменьшать в доступных пределах
		* В поле **Total size for new file** будет указан итоговый размер файла EmuNAND после уменьшения размера
1. Нажмите **Save as...**, чтобы выбрать место сохранения EmuNAND
1. Нажмите Save, чтобы сохранить EmuNAND с выбранным размером 

### Разбиение EmuNAND на части менее 4х Гб

1. Скачайте [File Splitter](https://sourceforge.net/projects/fsplit/files/latest/download){:target="_blank"} и распакуйте программу в удобное место 
1. Запустите программу и в поле `File` укажите путь к сохраненному ранее обрезанному EmuNAND (`RAWNAND.resized`)
1. В поле **Split Size** выставьте **3.9 Gigibytes** и нажмите **Start** для начала разбиения
1. По окончанию процесса в папке программы появятся файлы вида `RAWNAND_X(Y).resized`, где **X** - порядковый номер файлов, а **Y** - общее количество файлов. 
1. Переименуйте файлы в `full.00.bin`, `full.01.bin`, `full.02.bin` и т. п., внимательно соблюдая очерёдность. 
1. Перейдите в папку `/sxos/emunand` на карте памяти свитча и удалите все файлы вида `full.XX.bin`
1. Переместите все файлы вида `full.XX.bin` из папки с программой **File Splitter** в папку `/sxos/emunand`
1. Вставьте карту памяти обратно в приставку и включите Switch
1. После того, как приставка загрузится, перейдите в Альбомы (просто запустите их), чтобы убедиться, что вы загрузились именно в **EMUNAND**

	![](/images/screens/sx_valid.png)
	{: .text-center}
	{: .notice--info}

1. Запустите **DBI** через **Альбомы** и обратите внимание на размер **NAND**, он должен совпадать с тем, который вы указали в NxNandManager
	* Нужно смотреть не на количество свободного места, а на общее количество места

{% endspoiler %}



___

[Использование SX OS](usage)
{: .notice--info}