---
title: "Переход с SXOS на Atmosphere"
permalink: migrate
---

{% spoiler Зачем переходить на Atmosphere? %}

В октябре 2020 года [были арестованы два лидера Xecuter Team](https://www.theverge.com/2020/10/2/21499297/team-xecuter-selling-nintendo-hacks-arrested-charged-fraud){:target="_blank"} - кампании, занимавшейся разработкой и поддержкой SXOS, а так же производством чипов для модификации приставок с закрытой уязвимостью. 

1-го декабря 2020 года в свет выходит обновление системного ПО Switch под версией 11.0.0 и уже спустя 5 дней команда SXOS выпустила прошивку с поддержкой этого обновления. Казалось бы, всё идёт хорошо и несмотря на аресты, XT всё ещё работают. 

Однако, примерно в это же время, все китайские площадки, продававшие чипы в один голос начали говорить о том, что чипы у них закончились и перспективы производства новых партий весьма призрачны. Так же начали распространяться слухи о том, что все производственные фабрики чипов закрыты, а продукция конфискована. Штат сотрудников разогнан, а запрет на продажу чипов пущен чуть ли не из верхушки Коммунистической партии Китая. Во что не так уж и сложно поверить, если вспомнить, что мощнейшая корпорация Tencent является официальным дистрибутором продукции Nintendo в Китае. 

Последней же каплей, подтверждающей, что злые языки, вероятно, правы, стал выход прошивки 11.0.1, которая на момент написания этой заметки до сих пор не работает на SXOS. 

Стоит отметить, что 11.0.1 обновление минорное и Atmosphere буквально к вечеру того же дня уже с ним работала. 

В начале 2021 года вышла Atmosphere 0.17.0, которая уже полностью поддерживала работу на чипованных приставках, так что теперь можно уже и не ждать новых версий SXOS - это просто уже не нужно. 

{% endspoiler %}

## Переход из SX на Atmosphere

Выберите вариант, который вам подходит и следуйте инструкции. 

{% spoiler Прошиваемая приставка с уязвимостью Fusée Gelée или прошитая с помощью Caffeine  %}

1. Вставьте карту памяти приставки в ПК 
1. Установите {% include abbr/kefir_addr.txt %}, выбрав "**Atmosphere**" в качестве опции (`atmo.zip` для ручной установки)
1. Дождитесь окончания установки, затем верните карту памяти в консоль
1. Включите консоль 
1. Если у вас был EmuNAND, на заставке кефира **нажмите кнопку понижения громкости**, чтобы попасть в hekate 	
	1. Перейдите в "**emuMMC**"
	1. Нажмите "**Migrate emuMMC**"
	1. Выберите "**Emunand**" -> "**Continue**"
	1. После окончания миграции, нажмите "**Change emuMMC**" и в правой части экрана выберите "**emuMMC/EF00**"
	1. Нажмите "**ОК**"
		* Теперь при запуске приставки она автоматически будет запускать emuMMC. 
		* Чтобы попасть в официальную прошивку, запустите **hekate -> Launch -> Stock**

{% endspoiler %}

{% spoiler Непрошиваемая приставка с чипом от Team Xecuter (SX Core или SX Lite) %}

{% spoiler Подготовительные работы %}

Пока мы не начали переход, нужно убедиться, что на SysNAND и EmuNAND работают на последней версии системного ПО. Иначе при переносе EmuNAND в Atmosphere вы не сможете его запустить. 

#### Резервное копирование сохранений

1. Выполните резервное копирование сохранений по [этой инструкции](https://switch.customfw.xyz/backup-saves.html){:target="_blank"}

#### Обновление SysNAND до последней версии системного ПО 

1. Включите консоль, удерживая кнопку повышения громкости, чтобы попасть в меню загрузчика SX OS
1. Перейдите в "**Options**" -> "**SX Core** / **SX Lite**" -> "**Genuine boot**" -> "**Continue**", чтобы запустить SysNAND
1. Дождитесь окончания загрузки официальной прошивки 
1. Перейдите в "**Системные настройки**" -> "**Система**", нажмите на "**Обновление системы**"
	* Дождитесь обновления прошивки, затем выключите консоль
	* Если на вашей приставке и так уже последняя версия системного ПО, просто выключите консоль 
	* Да, это безопасно и не приведёт к бану

#### Обновление EmuNAND до последней версии системного ПО 

1. Обновите EmuNAND до {% include /vars/update_version.txt %} по [этой инструкции](update-to-latest){:target="_blank"}

{% endspoiler %}

{% spoiler Запуск прошивки %}

1. Вставьте карту памяти приставки в ПК 
1. Установите {% include abbr/kefir_addr.txt %}, выбрав "**Atmosphere for SX Core / Light**" в качестве опции (`modcip.zip` для ручной установки)
1. Дождитесь окончания установки, затем верните карту памяти в консоль
1. Включите консоль 
	* Должен загрузиться SysNAND. 
	* Если возникают какие-либо ошибки, обратитесь к разделу "[**Проблемы и их решения**](migrate#проблемы-и-их-решения)" внизу этой страницы

{% endspoiler %}

{% spoiler Перенос EmuNAND с SX OS в Atmosphere %}

1. Выключите консоль
1. Включите консоль, удерживая кнопку повышения громкости, чтобы загрузиться в hekate
1. Перейдите в "**emuMMC**"
1. Нажмите "**Migrate emuMMC**"
1. Выберите "**Emunand** -> "**Continue**"
1. После окончания миграции, нажмите "**Change emuMMC**" и в правой части экрана выберите "**emuMMC/EF00**"
1. Нажмите "**ОК**"
1. Перейдите в "**Tools**" -> "**Backup eMMC**" -> "**eMMC BOOT0 & BOOT1**"
1. Нажмите "**Close**", "**Close**", перейдите в "**Home**" и нажмите "**Power Off**", подтвердите выключение
1. Вставьте карту памяти приставки в ПК 
1. Перейдите в папку `sd:\backup\%emmc_id%`, где **%emmc_id%** - уникальный номер для каждой отдельной приставки.
1. Скопируйте `BOOT0` и `BOO1` из этой папки в папку `emuMMC\ED00\eMMC` с заменой
	* Теперь при запуске приставки она автоматически будет запускать emuMMC. 
	* Чтобы попасть в официальную прошивку, запустите **hekate** -> "**Launch**" -> "**Stock**"

{% endspoiler %}

{% spoiler Создание EmuNAND через hekate %}

Если у вас не было EmuNAND, крайне рекомендуется его создать. Это делается в первую очередь для того, чтобы избежать неприятных последствий для SysNAND в случае каких-либо косяков, так что сделайте EmuNAND даже если вы не планируете пользоваться лицензией или онлайном!
{: .notice--warning}

1. Выключите консоль
1. Включите консоль, удерживая кнопку повышения громкости, чтобы загрузиться в hekate
1. Перейдите в "**emuMMC**"
1. Нажмите "**Create emuMMC**" -> "**SD File**"
	* Для создания emuMMC нужно иметь не менее 32Гб свободного места на карте! Если у вас нет столько, возьмите другую карту, либо временно перенесите папку Nintendo на ваш ПК
1. После окончания создания emuMMC, нажмите "**ОК**"
	* Теперь при запуске приставки она автоматически будет запускать emuMMC. 
	* Чтобы попасть в официальную прошивку, запустите **hekate** -> "**Launch**" -> "**Stock**"

{% endspoiler %}

{% spoiler Бекап прошивки и ключей %}

1. Выключите консоль
1. Вставьте карту памяти приставки в ПК 
1. Скопируйте папку `emuMMC` из корня вашей карты памяти на ПК. Это ваш эмунанд. Он идентичен бекапу, поэтому нет никакого смысла создавать бекап отдельно 
1. Верните карту памяти в консоль
1. Включите консоль, удерживая кнопку повышения громкости, чтобы загрузиться в hekate
1. Перейдите в Payloads и выберите Lockpick_RCM.bin
1. Нажмите кнопку (Power), находясь на первой строчке в программе для дампа ключей 
1. Нажмите кнопку (Power) ещё раз для перехода в главное меню программы 
1. Кнопками громкости переместите курсор на пункт Power Off и нажмите кнопку (Power), чтобы выключить приставку
1. Вставьте карту памяти приставки в ПК 
1. Перейдите в папку `sd:/switch` и скопируйте файлы `prod.keys` и `partialaes.keys` в ту же папку, в которую вы скопировали ваш бекап

Поместите бекап в надежное место, желательно в несколько разных. И в облако. И на флешку какую-либо. Не потеряйте его!
{: .notice--danger}

{% endspoiler %}

{% endspoiler %}





<!-- ### Обновление SysNAND до последней версии системного ПО 

1. Включите консоль, удерживая кнопку повышения громкости, чтобы попасть в меню загрузчика SX OS
1. Перейдите в "**Options**" -> "**SX Core** / **SX Lite**" -> "**Genuine boot**" -> "**Continue**", чтобы запустить SysNAND
1. Дождитесь окончания загрузки официальной прошивки 
1. Перейдите в "**Системные настройки**" -> "**Система**", нажмите на "**Обновление системы**"
	* Дождитесь обновления прошивки, затем выключите консоль
	* Если на вашей приставке и так уже последняя версия системного ПО, просто выключите консоль 
	* Да, это безопасно и не приведёт к бану

### Обновление EmuNAND до последней версии системного ПО 

1. Включите консоль, удерживая кнопку повышения громкости, чтобы попасть в меню загрузчика SX OS
1. Перейдите в "**Options**" -> "**SX Core** / **SX Lite**" -> "**Genuine boot**" -> "**Continue**", чтобы запустить SysNAND
1. Дождитесь окончания загрузки официальной прошивки 
1. Перейдите в "**Системные настройки**" -> "**Система**", нажмите на "**Обновление системы**"
	* Дождитесь обновления прошивки, затем выключите консоль
	* Если на вашей приставке и так уже последняя версия системного ПО, просто выключите консоль 
	* Да, это безопасно и не приведёт к бану

### Подготовительные работы

1. Вставьте карту памяти приставки в ПК 
1. Установите {% include abbr/kefir_addr.txt %}, выбрав "**Atmosphere for SX Core / Light**" в качестве опции (`modcip.zip`)
1. Дождитесь окончания установки, затем верните карту памяти в консоль
1. Включите консоль, удерживая кнопку повышения громкости, чтобы попасть в меню загрузчика SX OS
1. Перейдите в "**Options**" -> "**NAND**" -> "**Dump NAND**" -> "**Advanced...**"
1. Переведите переключатель "**Dump Raw full NAND**" в положение "**NO**" и нажмите "**Done**"
	* Таким образом YES будет стоять только под пунктами "**Dump Boot0**" и "**Dump Boot1**"
1. Нажмите "**Continue**", чтобы начать дампить Boot1 и Boot0 из вашей оригинальной прошивки
1. Нажмите "**SX Core** / **SX Lite**", затем выберите **Cleanup** -> **Continue**

### Перенос EmuNAND из SX OS в Atmosphere

1. Нажмите "**Payloads**", выберите `payload.bin` и нажмите **Launch** -->

## Проблемы и их решения

{% spoiler Черный экран при запуске SysNAND %}

1. Выключите приставку, удерживая 30 секунд кнопку питания 
1. Вставьте карту памяти приставки в ПК 
1. Скачайте [SX_OS 3.1.0](https://t.me/SX_OS/178){:target="_blank"}
1. Поместите `boot.dat` из архива `SX_OS_v3.1.0_BETA_by_[Team-Xecuter].zip` в корень карты памяти с заменой
1. Включите консоль, удерживая кнопку повышения громкости, чтобы попасть в меню загрузчика SX OS
1. Перейдите в "**Options**" -> "**SX Core** / **SX Lite**", затем выберите "**Cleanup**" -> "**Continue**"
7. Перейдите в "**Payloads**" -> `payload.bin`”`, затем выберите "**Launch**". Должен загрузиться SysNAND.

Теперь можно установите {% include abbr/kefir_addr.txt %} ещё раз, выбрав "**Atmosphere for SX Core / Light**" в качестве опции (`modcip.zip` при обновлении вручную). Последующие запуски kefir будет запускаться автоматически сразу при включении приставки.
{: .notice--info}

{% endspoiler %}

{% spoiler Черный экран при запуске EmuNAND / Ошибки при запуске EmuNAND, связанные с boot %}

Сперва попробуйте запустить SysNAND и выполняйте нижеследующую инструкцию только если SysNAND запускается! Если нет, сперва решите эту проблему, а затем вернитесь к выполнению этой инструкции!
{: .notice--warning}

1. Включите консоль 
1. На заставке кефира **нажмите кнопку понижения громкости**, чтобы попасть в hekate 
1. Перейдите в "**Tools**"	 -> "**Backup eMMC**" -> "**eMMC BOOT0 & BOOT1**"
1. Нажмите "**Close**", "**Close**", перейдите в "**Home**" и нажмите "**Power Off**", подтвердите выключение
1. Вставьте карту памяти приставки в ПК 
1. Перейдите в папку `sd:\backup\%emmc_id%`, где **%emmc_id%** - уникальный номер для каждой отдельной приставки.
1. Скопируйте `BOOT0` и `BOO1` из этой папки в папку `emuMMC\ED00\eMMC` с заменой
1. Пробуйте запустить эмунанд. Если не вышло, вам придется создавать новый. 

{% endspoiler %}

{% spoiler Ошибка "Pkg1 decryption failed! Is BEK Missing?" %}

Обновите {% include abbr/kefir_addr.txt %}!

{% endspoiler %}

{% spoiler У меня другая ошибка %}

Расскажите об этом в [группе](http://vk.customfw.xyz). **Обязательно** приложите скриншот ошибки, версию своей приставки (если не знаете какая - серийник), как запускается прошивка (чип (если да, то какой), донгл (если да, то какой), ещё как-то), версию системного ПО, наличие EmuNAND, что именно выдает ошибку - EmuNAND или SysNAND, версию кефира, после чего возникает ошибка. 
Отсутствие **любого** из этих пунктов приведет к тому, что ваш пост удалят или проигнорируют. 

{% endspoiler %}